
# prometheus
![Version: 25.18.0](https://img.shields.io/badge/Version-25.18.0-informational?style=flat-square) ![Version: v2.51.0](https://img.shields.io/badge/appVersion-v2.51.0-informational?style=flat-square) ![Version: v2](https://img.shields.io/badge/apiVersion-v2-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) 

## Description
Prometheus is a monitoring system and time series database.

## Dependencies
This chart depends on the following subcharts.

| Name | Version | Repository | Condition |
|---|---|---|---| 
| alertmanager | 1.10.* | https://prometheus-community.github.io/helm-charts | alertmanager.enabled |
| kube-state-metrics | 5.17.* | https://prometheus-community.github.io/helm-charts | kube-state-metrics.enabled |
| prometheus-node-exporter | 4.31.* | https://prometheus-community.github.io/helm-charts | prometheus-node-exporter.enabled |
| prometheus-pushgateway | 2.8.* | https://prometheus-community.github.io/helm-charts | prometheus-pushgateway.enabled |


## Templates
The following templates will be deployed.

| Path |
|---| 
| vpa.yaml |
| pdb.yaml |
| ingress.yaml |
| deploy.yaml |
| network-policy.yaml |
| service.yaml |
| clusterrole.yaml |
| sts.yaml |
| cm.yaml |
| pvc.yaml |
| serviceaccount.yaml |
| psp.yaml |
| headless-svc.yaml |
| extra-manifests.yaml |
| clusterrolebinding.yaml |
| rolebinding.yaml |


### Objects
The aforementioned templates will deploy the following objects.

| Kind | From template |
|---|---| 
| VerticalPodAutoscaler | vpa.yaml |
| PodDisruptionBudget | pdb.yaml |
| Ingress | ingress.yaml |
| Deployment | deploy.yaml |
| NetworkPolicy | network-policy.yaml |
| Service | service.yaml |
| ClusterRole | clusterrole.yaml |
| StatefulSet | sts.yaml |
| ConfigMap | cm.yaml |
| PersistentVolumeClaim | pvc.yaml |
| ServiceAccount | serviceaccount.yaml |
| PodSecurityPolicy | psp.yaml |
| Service | headless-svc.yaml |
| ClusterRoleBinding | clusterrolebinding.yaml |
| RoleBinding | rolebinding.yaml |


## Values
The following values can/will be used for deployments.

| Name | Description | Default | Example |
|---|---|---|---| 
| alertRelabelConfigs |  | <pre>alertRelabelConfigs: {}<br></pre> |  |
| alertmanager |  | <pre>alertmanager:<br>  enabled: true<br>  persistence:<br>    size: 2Gi<br>  podSecurityContext:<br>    fsGroup: 65534<br>    runAsGroup: 65534<br>    runAsNonRoot: true<br>    runAsUser: 65534<br></pre> |  |
| commonMetaLabels | Additional labels to attach to all resources | <pre>commonMetaLabels: {}<br></pre> |  |
| configmapReload | Monitors ConfigMap changes and POSTs to a URL. Ref: https://github.com/prometheus-operator/prometheus-operator/tree/main/cmd/prometheus-config-reloader | <details><summary>Expand</summary><pre>configmapReload:<br>  env: []<br>  prometheus:<br>    containerSecurityContext: {}<br>    enabled: true<br>    extraArgs: {}<br>    extraConfigmapMounts: []<br>    extraVolumeDirs: []<br>    extraVolumeMounts: []<br>    image:<br>      digest: ''<br>      pullPolicy: IfNotPresent<br>      repository: quay.io/prometheus-operator/prometheus-config-reloader<br>      tag: v0.72.0<br>    name: configmap-reload<br>    resources: {}<br>  reloadUrl: ''<br></pre></details> |  |
| configmapReload.env | env sets environment variables to pass to the container. Can be set as name/value pairs, read from secrets or configmaps. | <pre>configmapReload:<br>  env: []<br></pre> | <details><summary>Expand</summary><pre>env:<br>  - name: SOMEVAR<br>    value: somevalue<br>  - name: SOMEVARAGAIN<br>    value: somevalueanother<br>  - name: strawberry<br>    value: redanddelishous<br>  - name: melon<br>    value: greenandred<br>  - name: justanother<br>    value: dayinparadise<br>  - name: PASSWORD<br>    valueFrom:<br>      secretKeyRef:<br>        name: mysecret<br>        key: password<br>        optional: false<br></pre></details> |
| configmapReload.prometheus | Define values for the prometheus configuration. | <details><summary>Expand</summary><pre>configmapReload:<br>  prometheus:<br>    containerSecurityContext: {}<br>    enabled: true<br>    extraArgs: {}<br>    extraConfigmapMounts: []<br>    extraVolumeDirs: []<br>    extraVolumeMounts: []<br>    image:<br>      digest: ''<br>      pullPolicy: IfNotPresent<br>      repository: quay.io/prometheus-operator/prometheus-config-reloader<br>      tag: v0.72.0<br>    name: configmap-reload<br>    resources: {}<br></pre></details> |  |
| configmapReload.prometheus.enabled | If false, the configmap-reload container will not be deployed. | <pre>configmapReload:<br>  prometheus:<br>    enabled: true<br></pre> |  |
| configmapReload.prometheus.image | configmap-reload container image | <pre>configmapReload:<br>  prometheus:<br>    image:<br>      digest: ''<br>      pullPolicy: IfNotPresent<br>      repository: quay.io/prometheus-operator/prometheus-config-reloader<br>      tag: v0.72.0<br></pre> |  |
| configmapReload.prometheus.image.containerSecurityContext | Security context to be added to configmap-reload container | <pre>configmapReload:<br>  prometheus:<br>    image:<br>      containerSecurityContext: null<br></pre> |  |
| configmapReload.prometheus.image.digest | When digest is set to a non-empty value, images will be pulled by digest (regardless of tag value). | <pre>configmapReload:<br>  prometheus:<br>    image:<br>      digest: ''<br></pre> |  |
| configmapReload.prometheus.image.extraArgs | Additional configmap-reload container arguments | <pre>configmapReload:<br>  prometheus:<br>    image:<br>      extraArgs: null<br></pre> |  |
| configmapReload.prometheus.image.extraConfigmapMounts | Additional configmap-reload mounts. | <pre>configmapReload:<br>  prometheus:<br>    image:<br>      extraConfigmapMounts: null<br></pre> | <pre>extraConfigmapMounts:<br>  - name: prometheus-alerts<br>    mountPath: /etc/alerts.d<br>    subPath: ""<br>    configMap: prometheus-alerts<br>    readOnly: true<br></pre> |
| configmapReload.prometheus.image.extraVolumeDirs | Additional configmap-reload volume directories | <pre>configmapReload:<br>  prometheus:<br>    image:<br>      extraVolumeDirs: null<br></pre> |  |
| configmapReload.prometheus.image.extraVolumeMounts | Additional configmap-reload volume mounts | <pre>configmapReload:<br>  prometheus:<br>    image:<br>      extraVolumeMounts: null<br></pre> |  |
| configmapReload.prometheus.image.resources | configmap-reload resource requests and limits. Ref: http://kubernetes.io/docs/user-guide/compute-resources/ | <pre>configmapReload:<br>  prometheus:<br>    image:<br>      resources: null<br></pre> |  |
| configmapReload.prometheus.name | configmap-reload container name | <pre>configmapReload:<br>  prometheus:<br>    name: configmap-reload<br></pre> |  |
| configmapReload.reloadUrl | URL for configmap-reload to use for reloads | <pre>configmapReload:<br>  reloadUrl: ''<br></pre> |  |
| extraManifests |  | <pre>extraManifests: []<br></pre> |  |
| extraScrapeConfigs |  | <pre>extraScrapeConfigs: ''<br></pre> |  |
| forceNamespace |  | <pre>forceNamespace: ''<br></pre> |  |
| imagePullSecrets | Define ImagePullSecrets for the deployment. | <pre>imagePullSecrets: []<br></pre> |  |
| kube-state-metrics |  | <pre>kube-state-metrics:<br>  enabled: true<br></pre> |  |
| networkPolicy |  | <pre>networkPolicy:<br>  enabled: false<br></pre> |  |
| podSecurityPolicy | Define whether to enable the pod security policy. | <pre>podSecurityPolicy:<br>  enabled: false<br></pre> | <pre>podSecurityPolicy:<br>  enabled: true<br></pre> |
| prometheus-node-exporter |  | <pre>prometheus-node-exporter:<br>  containerSecurityContext:<br>    allowPrivilegeEscalation: false<br>  enabled: true<br>  rbac:<br>    pspEnabled: false<br></pre> |  |
| prometheus-pushgateway |  | <pre>prometheus-pushgateway:<br>  enabled: true<br>  serviceAnnotations:<br>    prometheus.io/probe: pushgateway<br></pre> |  |
| rbac | Whether to create rbac. | <pre>rbac:<br>  create: true<br></pre> |  |
| ruleFiles |  | <pre>ruleFiles: {}<br></pre> |  |
| scrapeConfigFiles |  | <pre>scrapeConfigFiles: []<br></pre> |  |
| server | Configure the server component. | <details><summary>Expand</summary><pre>server:<br>  affinity: {}<br>  alertmanagers: []<br>  automountServiceAccountToken: false<br>  baseURL: ''<br>  clusterRoleNameOverride: ''<br>  command: []<br>  configMapAnnotations: {}<br>  configMapOverrideName: ''<br>  configPath: /etc/config/prometheus.yml<br>  containerSecurityContext: {}<br>  defaultFlagsOverride: []<br>  deploymentAnnotations: {}<br>  dnsConfig: {}<br>  dnsPolicy: ClusterFirst<br>  emptyDir:<br>    sizeLimit: ''<br>  enableServiceLinks: true<br>  env: []<br>  exemplars: {}<br>  extraArgs: {}<br>  extraConfigmapLabels: {}<br>  extraConfigmapMounts: []<br>  extraFlags:<br>  - web.enable-lifecycle<br>  extraHostPathMounts: []<br>  extraInitContainers: []<br>  extraSecretMounts: []<br>  extraVolumeMounts: []<br>  extraVolumes: []<br>  global:<br>    evaluation_interval: 1m<br>    scrape_interval: 1m<br>    scrape_timeout: 10s<br>  hostAliases: []<br>  hostNetwork: false<br>  image:<br>    digest: ''<br>    pullPolicy: IfNotPresent<br>    repository: quay.io/prometheus/prometheus<br>    tag: ''<br>  ingress:<br>    annotations: {}<br>    enabled: false<br>    extraLabels: {}<br>    extraPaths: []<br>    hosts: []<br>    path: /<br>    pathType: Prefix<br>    tls: []<br>  livenessProbeFailureThreshold: 3<br>  livenessProbeInitialDelay: 30<br>  livenessProbePeriodSeconds: 15<br>  livenessProbeSuccessThreshold: 1<br>  livenessProbeTimeout: 10<br>  name: server<br>  nodeSelector: {}<br>  persistentVolume:<br>    accessModes:<br>    - ReadWriteOnce<br>    annotations: {}<br>    enabled: true<br>    existingClaim: ''<br>    labels: {}<br>    mountPath: /data<br>    size: 8Gi<br>    statefulSetNameOverride: ''<br>    subPath: ''<br>  podAnnotations: {}<br>  podAntiAffinity: ''<br>  podAntiAffinityTopologyKey: kubernetes.io/hostname<br>  podDisruptionBudget:<br>    enabled: false<br>    maxUnavailable: 1<br>  podLabels: {}<br>  podSecurityPolicy:<br>    annotations: {}<br>  portName: ''<br>  prefixURL: ''<br>  priorityClassName: ''<br>  probeHeaders: []<br>  probeScheme: HTTP<br>  readinessProbeFailureThreshold: 3<br>  readinessProbeInitialDelay: 30<br>  readinessProbePeriodSeconds: 5<br>  readinessProbeSuccessThreshold: 1<br>  readinessProbeTimeout: 4<br>  releaseNamespace: false<br>  remoteRead: []<br>  remoteWrite: []<br>  replicaCount: 1<br>  resources: {}<br>  retention: 15d<br>  retentionSize: ''<br>  revisionHistoryLimit: 10<br>  securityContext:<br>    fsGroup: 65534<br>    runAsGroup: 65534<br>    runAsNonRoot: true<br>    runAsUser: 65534<br>  service:<br>    additionalPorts: []<br>    annotations: {}<br>    clusterIP: ''<br>    enabled: true<br>    externalIPs: []<br>    gRPC:<br>      enabled: false<br>      servicePort: 10901<br>    labels: {}<br>    loadBalancerIP: ''<br>    loadBalancerSourceRanges: []<br>    servicePort: 80<br>    sessionAffinity: None<br>    statefulsetReplica:<br>      enabled: false<br>      replica: 0<br>    type: ClusterIP<br>  sidecarContainers: {}<br>  sidecarTemplateValues: {}<br>  startupProbe:<br>    enabled: false<br>    failureThreshold: 30<br>    periodSeconds: 5<br>    timeoutSeconds: 10<br>  statefulSet:<br>    annotations: {}<br>    enabled: false<br>    headless:<br>      annotations: {}<br>      gRPC:<br>        enabled: false<br>        servicePort: 10901<br>      labels: {}<br>      servicePort: 80<br>    labels: {}<br>    podManagementPolicy: OrderedReady<br>    pvcDeleteOnStsDelete: false<br>    pvcDeleteOnStsScale: false<br>  storagePath: ''<br>  strategy:<br>    type: Recreate<br>  tcpSocketProbeEnabled: false<br>  terminationGracePeriodSeconds: 300<br>  tolerations: []<br>  topologySpreadConstraints: []<br>  tsdb: {}<br>  useExistingClusterRoleName: null<br>  verticalAutoscaler:<br>    enabled: false<br></pre></details> |  |
| server.automountServiceAccountToken | Opt out of automounting Kubernetes API credentials. If set it will override serviceAccounts.server.automountServiceAccountToken value for ServiceAccount. | <pre>server:<br>  automountServiceAccountToken: false<br></pre> |  |
| server.clusterRoleNameOverride | If set it will override prometheus.server.fullname value for ClusterRole and ClusterRoleBinding | <pre>server:<br>  clusterRoleNameOverride: ''<br></pre> |  |
| server.name | Prometheus server container name | <pre>server:<br>  name: server<br></pre> |  |
| server.useExistingClusterRoleName | Use a ClusterRole (and ClusterRoleBinding). If set to false, we define a RoleBinding in the defined namespaces ONLY. NB: because we need a Role with nonResourceURL's ("/metrics") - you must get someone with Cluster-admin privileges to define this role for you, before running with this setting enabled. This makes prometheus work - for users who do not have ClusterAdmin privs, but wants prometheus to operate on their own namespaces, instead of clusterwide. You MUST also set namespaces to the ones you have access to and want monitored by Prometheus. | <pre>server:<br>  useExistingClusterRoleName: null<br></pre> |  |
| serverFiles |  | <details><summary>Expand</summary><pre>serverFiles:<br>  alerting_rules.yml: {}<br>  alerts: {}<br>  prometheus.yml:<br>    rule_files:<br>    - /etc/config/recording_rules.yml<br>    - /etc/config/alerting_rules.yml<br>    - /etc/config/rules<br>    - /etc/config/alerts<br>    scrape_configs:<br>    - job_name: prometheus<br>      static_configs:<br>      - targets:<br>        - localhost:9090<br>    - bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token<br>      job_name: kubernetes-apiservers<br>      kubernetes_sd_configs:<br>      - role: endpoints<br>      relabel_configs:<br>      - action: keep<br>        regex: default;kubernetes;https<br>        source_labels:<br>        - __meta_kubernetes_namespace<br>        - __meta_kubernetes_service_name<br>        - __meta_kubernetes_endpoint_port_name<br>      scheme: https<br>      tls_config:<br>        ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt<br>        insecure_skip_verify: true<br>    - bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token<br>      job_name: kubernetes-nodes<br>      kubernetes_sd_configs:<br>      - role: node<br>      relabel_configs:<br>      - action: labelmap<br>        regex: __meta_kubernetes_node_label_(.+)<br>      - replacement: kubernetes.default.svc:443<br>        target_label: __address__<br>      - regex: (.+)<br>        replacement: /api/v1/nodes/$1/proxy/metrics<br>        source_labels:<br>        - __meta_kubernetes_node_name<br>        target_label: __metrics_path__<br>      scheme: https<br>      tls_config:<br>        ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt<br>        insecure_skip_verify: true<br>    - bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token<br>      job_name: kubernetes-nodes-cadvisor<br>      kubernetes_sd_configs:<br>      - role: node<br>      relabel_configs:<br>      - action: labelmap<br>        regex: __meta_kubernetes_node_label_(.+)<br>      - replacement: kubernetes.default.svc:443<br>        target_label: __address__<br>      - regex: (.+)<br>        replacement: /api/v1/nodes/$1/proxy/metrics/cadvisor<br>        source_labels:<br>        - __meta_kubernetes_node_name<br>        target_label: __metrics_path__<br>      scheme: https<br>      tls_config:<br>        ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt<br>        insecure_skip_verify: true<br>    - honor_labels: true<br>      job_name: kubernetes-service-endpoints<br>      kubernetes_sd_configs:<br>      - role: endpoints<br>      relabel_configs:<br>      - action: keep<br>        regex: true<br>        source_labels:<br>        - __meta_kubernetes_service_annotation_prometheus_io_scrape<br>      - action: drop<br>        regex: true<br>        source_labels:<br>        - __meta_kubernetes_service_annotation_prometheus_io_scrape_slow<br>      - action: replace<br>        regex: (https?)<br>        source_labels:<br>        - __meta_kubernetes_service_annotation_prometheus_io_scheme<br>        target_label: __scheme__<br>      - action: replace<br>        regex: (.+)<br>        source_labels:<br>        - __meta_kubernetes_service_annotation_prometheus_io_path<br>        target_label: __metrics_path__<br>      - action: replace<br>        regex: (.+?)(?::\d+)?;(\d+)<br>        replacement: $1:$2<br>        source_labels:<br>        - __address__<br>        - __meta_kubernetes_service_annotation_prometheus_io_port<br>        target_label: __address__<br>      - action: labelmap<br>        regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)<br>        replacement: __param_$1<br>      - action: labelmap<br>        regex: __meta_kubernetes_service_label_(.+)<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_namespace<br>        target_label: namespace<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_service_name<br>        target_label: service<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_pod_node_name<br>        target_label: node<br>    - honor_labels: true<br>      job_name: kubernetes-service-endpoints-slow<br>      kubernetes_sd_configs:<br>      - role: endpoints<br>      relabel_configs:<br>      - action: keep<br>        regex: true<br>        source_labels:<br>        - __meta_kubernetes_service_annotation_prometheus_io_scrape_slow<br>      - action: replace<br>        regex: (https?)<br>        source_labels:<br>        - __meta_kubernetes_service_annotation_prometheus_io_scheme<br>        target_label: __scheme__<br>      - action: replace<br>        regex: (.+)<br>        source_labels:<br>        - __meta_kubernetes_service_annotation_prometheus_io_path<br>        target_label: __metrics_path__<br>      - action: replace<br>        regex: (.+?)(?::\d+)?;(\d+)<br>        replacement: $1:$2<br>        source_labels:<br>        - __address__<br>        - __meta_kubernetes_service_annotation_prometheus_io_port<br>        target_label: __address__<br>      - action: labelmap<br>        regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)<br>        replacement: __param_$1<br>      - action: labelmap<br>        regex: __meta_kubernetes_service_label_(.+)<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_namespace<br>        target_label: namespace<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_service_name<br>        target_label: service<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_pod_node_name<br>        target_label: node<br>      scrape_interval: 5m<br>      scrape_timeout: 30s<br>    - honor_labels: true<br>      job_name: prometheus-pushgateway<br>      kubernetes_sd_configs:<br>      - role: service<br>      relabel_configs:<br>      - action: keep<br>        regex: pushgateway<br>        source_labels:<br>        - __meta_kubernetes_service_annotation_prometheus_io_probe<br>    - honor_labels: true<br>      job_name: kubernetes-services<br>      kubernetes_sd_configs:<br>      - role: service<br>      metrics_path: /probe<br>      params:<br>        module:<br>        - http_2xx<br>      relabel_configs:<br>      - action: keep<br>        regex: true<br>        source_labels:<br>        - __meta_kubernetes_service_annotation_prometheus_io_probe<br>      - source_labels:<br>        - __address__<br>        target_label: __param_target<br>      - replacement: blackbox<br>        target_label: __address__<br>      - source_labels:<br>        - __param_target<br>        target_label: instance<br>      - action: labelmap<br>        regex: __meta_kubernetes_service_label_(.+)<br>      - source_labels:<br>        - __meta_kubernetes_namespace<br>        target_label: namespace<br>      - source_labels:<br>        - __meta_kubernetes_service_name<br>        target_label: service<br>    - honor_labels: true<br>      job_name: kubernetes-pods<br>      kubernetes_sd_configs:<br>      - role: pod<br>      relabel_configs:<br>      - action: keep<br>        regex: true<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_scrape<br>      - action: drop<br>        regex: true<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_scrape_slow<br>      - action: replace<br>        regex: (https?)<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_scheme<br>        target_label: __scheme__<br>      - action: replace<br>        regex: (.+)<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_path<br>        target_label: __metrics_path__<br>      - action: replace<br>        regex: (\d+);(([A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})<br>        replacement: '[$2]:$1'<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_port<br>        - __meta_kubernetes_pod_ip<br>        target_label: __address__<br>      - action: replace<br>        regex: (\d+);((([0-9]+?)(\.\|$)){4})<br>        replacement: $2:$1<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_port<br>        - __meta_kubernetes_pod_ip<br>        target_label: __address__<br>      - action: labelmap<br>        regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)<br>        replacement: __param_$1<br>      - action: labelmap<br>        regex: __meta_kubernetes_pod_label_(.+)<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_namespace<br>        target_label: namespace<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_pod_name<br>        target_label: pod<br>      - action: drop<br>        regex: Pending\|Succeeded\|Failed\|Completed<br>        source_labels:<br>        - __meta_kubernetes_pod_phase<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_pod_node_name<br>        target_label: node<br>    - honor_labels: true<br>      job_name: kubernetes-pods-slow<br>      kubernetes_sd_configs:<br>      - role: pod<br>      relabel_configs:<br>      - action: keep<br>        regex: true<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_scrape_slow<br>      - action: replace<br>        regex: (https?)<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_scheme<br>        target_label: __scheme__<br>      - action: replace<br>        regex: (.+)<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_path<br>        target_label: __metrics_path__<br>      - action: replace<br>        regex: (\d+);(([A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})<br>        replacement: '[$2]:$1'<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_port<br>        - __meta_kubernetes_pod_ip<br>        target_label: __address__<br>      - action: replace<br>        regex: (\d+);((([0-9]+?)(\.\|$)){4})<br>        replacement: $2:$1<br>        source_labels:<br>        - __meta_kubernetes_pod_annotation_prometheus_io_port<br>        - __meta_kubernetes_pod_ip<br>        target_label: __address__<br>      - action: labelmap<br>        regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)<br>        replacement: __param_$1<br>      - action: labelmap<br>        regex: __meta_kubernetes_pod_label_(.+)<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_namespace<br>        target_label: namespace<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_pod_name<br>        target_label: pod<br>      - action: drop<br>        regex: Pending\|Succeeded\|Failed\|Completed<br>        source_labels:<br>        - __meta_kubernetes_pod_phase<br>      - action: replace<br>        source_labels:<br>        - __meta_kubernetes_pod_node_name<br>        target_label: node<br>      scrape_interval: 5m<br>      scrape_timeout: 30s<br>  recording_rules.yml: {}<br>  rules: {}<br></pre></details> |  |
| serviceAccounts | Define serviceAccount names for components. Defaults to component's fully qualified name. | <pre>serviceAccounts:<br>  server:<br>    annotations: {}<br>    automountServiceAccountToken: false<br>    create: true<br>    name: ''<br></pre> |  |
| serviceAccounts.server.automountServiceAccountToken | Opt out of automounting Kubernetes API credentials. It will be overriden by server.automountServiceAccountToken value, if set. | <pre>serviceAccounts:<br>  server:<br>    automountServiceAccountToken: false<br></pre> |  |


*Automatic helm documentation generated using [very-doge-wow/stella](https://github.com/very-doge-wow/stella).*

